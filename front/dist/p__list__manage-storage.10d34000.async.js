(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9246],{63258:function(De,te,e){"use strict";e.d(te,{Z:function(){return pe}});var be=e(67294),oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},S=oe,ae=e(27029),I=function(Se,ye){return be.createElement(ae.Z,Object.assign({},Se,{ref:ye,icon:S}))};I.displayName="FolderOutlined";var pe=be.forwardRef(I)},15196:function(De,te,e){"use strict";e.d(te,{UW:function(){return nt},ZP:function(){return xe}});var be=e(9715),oe=e(82482),S=e(67294),ae=e(49111),I=e(19650),pe=e(84305),Ve=e(69224),Se=e(8812),ye=e(66758),et=e(90240),Me=e(56725),re=e(53621),J=e(94184),U=e.n(J);function tt(n,d){return $e(n)||m(n,d)||A(n,d)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(n,d){if(!!n){if(typeof n=="string")return C(n,d);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return C(n,d)}}function C(n,d){(d==null||d>n.length)&&(d=n.length);for(var i=0,c=new Array(d);i<d;i++)c[i]=n[i];return c}function m(n,d){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var c=[],y=!0,Ze=!1,ue,w;try{for(i=i.call(n);!(y=(ue=i.next()).done)&&(c.push(ue.value),!(d&&c.length===d));y=!0);}catch(st){Ze=!0,w=st}finally{try{!y&&i.return!=null&&i.return()}finally{if(Ze)throw w}}return c}}function $e(n){if(Array.isArray(n))return n}function H(n,d){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);d&&(c=c.filter(function(y){return Object.getOwnPropertyDescriptor(n,y).enumerable})),i.push.apply(i,c)}return i}function pt(n){for(var d=1;d<arguments.length;d++){var i=arguments[d]!=null?arguments[d]:{};d%2?H(Object(i),!0).forEach(function(c){at(n,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(i,c))})}return n}function at(n,d,i){return d in n?Object.defineProperty(n,d,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[d]=i,n}var rt=S.forwardRef(function(n,d){var i=S.useContext(ye.Z),c=i.groupProps,y=pt(pt({},c),n),Ze=y.children,ue=y.collapsible,w=y.defaultCollapsed,st=y.style,lt=y.labelLayout,it=y.title,ot=it===void 0?n.label:it,ze=y.tooltip,Rt=y.align,Ue=y.direction,yt=y.size,He=yt===void 0?32:yt,Dt=y.titleStyle,ut=y.titleRender,k=y.extra,je=(0,Me.Z)(function(){return w||!1},{value:n.collapsed,onChange:n.onCollapse}),Fe=tt(je,2),We=Fe[0],ne=Fe[1],L=(0,S.useContext)(Ve.ZP.ConfigContext),t=L.getPrefixCls,Ie=t("pro-form-group"),dt=ue&&S.createElement(Se.Z,{style:{marginRight:8},rotate:We?void 0:90}),Ke=S.createElement(re.Z,{label:dt?S.createElement("div",null,dt,ot):ot,tooltip:ze}),Ye=ut?ut(Ke,n):Ke,Mt=S.Children.toArray(Ze).map(function(q){var de;return S.isValidElement(q)&&(q==null||(de=q.props)===null||de===void 0?void 0:de.hidden)?null:q});return S.createElement("div",{className:U()(Ie,at({},"".concat(Ie,"-twoLine"),lt==="twoLine")),style:st,ref:d},(ot||ze||k)&&S.createElement("div",{className:"".concat(Ie,"-title"),style:Dt,onClick:function(){ne(!We)}},k?S.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},Ye,S.createElement("span",{onClick:function(de){return de.stopPropagation()}},k)):Ye),ue&&We?null:S.createElement(I.Z,{className:"".concat(Ie,"-container"),size:He,align:Rt,direction:Ue},Mt))});rt.displayName="ProForm-Group";var p=rt,v=e(57712),St=e(59001);function Be(){return Be=Object.assign||function(n){for(var d=1;d<arguments.length;d++){var i=arguments[d];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n},Be.apply(this,arguments)}function Ce(n){return S.createElement(v.Z,Be({layout:"vertical",submitter:{render:function(i,c){return c.reverse()}},contentRender:function(i,c){return S.createElement(S.Fragment,null,i,c)}},n))}Ce.Group=p,Ce.useForm=oe.Z.useForm,Ce.Item=St.Z;var Ne=Ce,Lt=e(64122),nt=Ne.Group,xe=Ne},53621:function(De,te,e){"use strict";var be=e(22385),oe=e(69713),S=e(84305),ae=e(69224),I=e(67294),pe=e(68628),Ve=e(37451),Se=e.n(Ve),ye=function(Me){var re=Me.label,J=Me.tooltip,U=Me.subTitle,tt=(0,I.useContext)(ae.ZP.ConfigContext),E=tt.getPrefixCls;if(!J&&!U)return I.createElement(I.Fragment,null,re);var A=E("pro-core-label-tip"),C=typeof J=="string"||I.isValidElement(J)?{title:J}:J,m=(C==null?void 0:C.icon)||I.createElement(pe.Z,null);return I.createElement("div",{className:A,onMouseDown:function(H){return H.stopPropagation()},onMouseLeave:function(H){return H.stopPropagation()},onMouseMove:function(H){return H.stopPropagation()}},re,U&&I.createElement("div",{className:"".concat(A,"-subtitle")},U),J&&I.createElement(oe.Z,C,I.createElement("span",{className:"".concat(A,"-icon")},m)))};te.Z=I.memo(ye)},15753:function(De){De.exports={standardList:"standardList___2ofmm",headerInfo:"headerInfo___3_diG",listContent:"listContent___2QxYD",listContentItem:"listContentItem___2mrYb",listContentItem2:"listContentItem2___36iA1",extraContentSearch:"extraContentSearch___1V5gc",listCard:"listCard___3ncDj",standardListForm:"standardListForm___3kWxp",formResult:"formResult___2OXrg"}},90240:function(){},64122:function(){},37451:function(){},70066:function(De,te,e){"use strict";e.r(te),e.d(te,{BasicList:function(){return bt},default:function(){return qt}});var be=e(72012),oe=e(39144),S=e(54421),ae=e(38272),I=e(94233),pe=e(51890),Ve=e(59250),Se=e(13013),ye=e(62350),et=e(75443),Me=e(30887),re=e(99210),J=e(57663),U=e(71577),tt=e(74379),E=e(38648),A=e(11849),C=e(3182),m=e(2824),$e=e(47673),H=e(4107),pt=e(88983),at=e(47933),rt=e(94043),p=e.n(rt),v=e(67294),St={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1zm396-144.7H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder-add",theme:"outlined"},Be=St,Ce=e(27029),Ne=function(a,r){return v.createElement(Ce.Z,Object.assign({},a,{ref:r,icon:Be}))};Ne.displayName="FolderAddOutlined";var Lt=v.forwardRef(Ne),nt=e(59879),xe=e(43061),n=e(57254),d=e(63258),i=e(15103),c=e(58086),y=e(30381);function Ze(V){var a=Math.floor(V/1e3),r=Math.floor(a/31536e3);a=a-r*31536e3;var R=Math.floor(a/86400);a=a-R*86400;var $=Math.floor(a/3600);a=a-$*3600;var D=Math.floor(a/60);a=a-D*60;var x="";return a>0&&(x=a+" s"),D>0&&(x=D+" m "+x),$>0&&(x=$+" h "+x),R>0&&(x=R+" d "+x),r>0&&(x=r+" y "+x),x}function ue(V,a){return V==null||a==null?null:a=="y"?V*31536e6:a=="d"?V*864e5:a=="h"?V*36e5:a=="m"?V*6e4:a=="s"?V*1e3:null}var w={getStringFromMillisecond:Ze,getMillisecondFromTimeunit:ue},st=e(66456),lt=e(85453),it=e(86582),ot=e(49111),ze=e(19650),Rt=e(71153),Ue=e(60331),yt=e(9715),He=e(82482),Dt=e(43358),ut=e(90290),k=e(5966),je=e(64317),Fe=e(37476),We=e(15753),ne=e.n(We),L=e(34224),t=e(85893),Ie=function(a){var r=(0,c.YB)(),R=a.done,$=a.visible,D=a.current,x=a.setCurrent,W=a.onDone,ce=a.children,fe=a.editable,K=a.setEditable,_=a.changeState,P=a.createable,b=a.setCreateable,O=a.onDeleteItem,Y=a.refresh,Z=a.currentSchema,B=a.currentValue,M=a.searchTimeseries,me=a.searchContent,j=a.setSearchContent,se=(0,c.tT)("@@initialState"),Vt=se.initialState,Ct=se.setInitialState,xt=["BOOLEAN","INT32","INT64","FLOAT","DOUBLE","TEXT"],Zt={BOOLEAN:["PLAIN","RLE"],INT32:["PLAIN","RLE","TS_2DIFF","GORILLA"],INT64:["PLAIN","RLE","TS_2DIFF","GORILLA"],FLOAT:["PLAIN","RLE","TS_2DIFF","GORILLA"],DOUBLE:["PLAIN","RLE","TS_2DIFF","GORILLA"],TEXT:["PLAIN"]},$t=ut.Z.Option,ct=He.Z.useForm(),Pe=(0,m.Z)(ct,2),ge=Pe[0],jt=Pe[1],Q=v.useState(void 0),Oe=(0,m.Z)(Q,2),Bt=Oe[0],Qe=Oe[1],ft=v.useState(void 0),Ft=(0,m.Z)(ft,2),Nt=Ft[0],Ee=Ft[1],It=v.useState(void 0),Pt=(0,m.Z)(It,2),zt=Pt[0],Ge=Pt[1],Ot=v.useState(void 0),Te=(0,m.Z)(Ot,2),Ut=Te[0],ve=Te[1],Et=v.useState(void 0),mt=(0,m.Z)(Et,2),Ht=mt[0],he=mt[1],Gt=v.useState(void 0),Xe=(0,m.Z)(Gt,2),Wt=Xe[0],le=Xe[1],ee=v.useState(void 0),Ae=(0,m.Z)(ee,2),Kt=Ae[0],Je=Ae[1],Le=v.useState(void 0),we=(0,m.Z)(Le,2),gt=we[0],ke=we[1],vt=function(u){Ee(u),Ge(Z[1][u]),ve([]),he([]),le([]),Je([])},Yt=function(u){Ee([]),Ge(Z[1][u]),ve([]),he([]),le([]),Qe(u)},_t=function(u){ve(u),he(Z[2][u]),le([])},Qt=function(u){le(u)},Tt=function(){var h=(0,C.Z)(p().mark(function u(G,ie,X){var qe,ht,_e;return p().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,X.validateFields();case 3:return qe=X.getFieldValue("granularity2"),ht=B+"."+(qe==null?"":qe+".")+X.getFieldValue("physical2"),N.next=7,(0,L.b2)({path:ht,dataType:X.getFieldValue("dataType2"),encoding:X.getFieldValue("encoding2")});case 7:_e=N.sent,_e.code=="0"?Y():E.default.error({message:_e.message}),N.next=13;break;case 11:N.prev=11,N.t0=N.catch(0);case 13:case"end":return N.stop()}},u,null,[[0,11]])}));return function(G,ie,X){return h.apply(this,arguments)}}(),At=[{title:r.formatMessage({id:"manageUser.privilege.granularity.entity"}),dataIndex:"granularity",key:"granularity",render:function(u){return(0,t.jsx)(t.Fragment,{children:B+"."+u})}},{title:r.formatMessage({id:"manageUser.privilege.granularity.physical"}),dataIndex:"range",key:"range",render:function(u){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{style:{marginBottom:-10},children:u.toString().trim().split(",").map(function(G){return(0,t.jsx)("p",{children:G},G)})})})}},{title:r.formatMessage({id:"createStorageGroup.timeseries.dataType"}),dataIndex:"dataType",key:"dataType",render:function(u){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(Ue.Z,{children:[" ",u," "]})})}},{title:r.formatMessage({id:"createStorageGroup.timeseries.codeMode"}),dataIndex:"encoding",key:"encoding",render:function(u){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(Ue.Z,{children:[" ",u," "]})})}},{title:r.formatMessage({id:"query.sql.export.compressionMode"}),dataIndex:"compression",key:"compression",render:function(u){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(Ue.Z,{children:[" ",u," "]})})}},{title:r.formatMessage({id:"pages.operation.text"}),key:"action",render:function(u,G){return(0,t.jsx)(ze.Z,{size:"middle",children:(0,t.jsx)(et.Z,{placement:"left",title:B+"."+G.granularity+"."+G.range+" -- "+r.formatMessage({id:"pages.delete.confirm"}),onConfirm:function(X){return O(G,X)},children:(0,t.jsx)("a",{children:r.formatMessage({id:"pages.delete.text"})})})})}}],Re=[{title:r.formatMessage({id:"manageUser.privilege.granularity.entity"}),dataIndex:"granularity2",key:"granularity2",render:function(u){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(k.Z,{name:"granularity2",rules:[{required:!0,message:r.formatMessage({id:"createStorageGroup.entity.description"})},{message:"Between 1 to 1000 character",max:1e3},{pattern:/^(?!\.)[a-zA-Z0-9.\u4e00-\u9fa5_]+$/,message:r.formatMessage({id:"createStorageGroup.entity.rule"})}],fieldProps:{},placeholder:r.formatMessage({id:"createStorageGroup.entity.description"})})})}},{title:r.formatMessage({id:"manageUser.privilege.granularity.physical"}),dataIndex:"physical2",key:"physical2",render:function(u){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(k.Z,{name:"physical2",rules:[{required:!0,message:r.formatMessage({id:"createStorageGroup.physical.description"})},{pattern:/^(?!_)[a-zA-Z0-9\u4e00-\u9fa5_]+$/,message:r.formatMessage({id:"createStorageGroup.physical.rule"})}],fieldProps:{},placeholder:r.formatMessage({id:"createStorageGroup.physical.description"})})})}},{title:r.formatMessage({id:"createStorageGroup.timeseries.dataType"}),dataIndex:"dataType2",key:"dataType2",render:function(u){return(0,t.jsx)(je.Z,{name:"dataType2",rules:[{required:!0,message:r.formatMessage({id:"createStorageGroup.dataType.description"})}],options:xt,fieldProps:{onChange:function(ie){ke(ie),ge.setFieldsValue({encoding2:null})}}})}},{title:r.formatMessage({id:"createStorageGroup.timeseries.codeMode"}),dataIndex:"encoding2",key:"encoding2",render:function(u){return(0,t.jsx)(je.Z,{name:"encoding2",rules:[{required:!0,message:r.formatMessage({id:"createStorageGroup.codeMode.description"})}],options:gt==null?[]:Zt[gt],fieldProps:{}})}},{title:r.formatMessage({id:"pages.operation.text"}),key:"action2",render:function(u,G){return(0,t.jsx)(ze.Z,{size:"middle",style:{marginBottom:25},children:(0,t.jsx)("a",{onClick:function(X){Tt(u,G,ge)},children:r.formatMessage({id:"pages.save.text"})})})}}];return $?(0,t.jsxs)(Fe.Z,{visible:$,form:ge,title:r.formatMessage({id:"createStorageGroup.timeseries.detail"})+" -- "+B,className:ne().standardListForm,initialValues:D,submitter:{submitButtonProps:{style:{display:"none"}},render:function(u,G){return[(0,t.jsx)(U.Z,{onClick:function(){Qe(null),Ee([]),Ge([]),ve([]),he([]),le([]),Je([]),b(!P)},children:P?r.formatMessage({id:"pages.cancelAdd.text"}):r.formatMessage({id:"pages.add.text"})},"add")].concat((0,it.Z)(G))}},trigger:(0,t.jsx)(t.Fragment,{children:ce}),modalProps:{onCancel:function(){return W()},destroyOnClose:!0,bodyStyle:R?{padding:"72px 0"}:{}},children:[(0,t.jsx)("div",{style:{textAlign:"right",marginBottom:"10px",marginTop:"-10px"},children:(0,t.jsxs)(U.Z.Group,{children:[(0,t.jsxs)(U.Z,{value:"all",onClick:function(){j(null),M(B,null)},children:[(0,t.jsx)(nt.Z,{}),r.formatMessage({id:"pages.refresh.text"})]}),(0,t.jsx)(H.Z.Search,{style:{width:"220px"},placeholder:r.formatMessage({id:"createStorageGroup.timeseries.search.description"}),onSearch:function(u){M(B,u)},onChange:function(u){j(u.target.value)},value:me,suffix:me==null||me==""?(0,t.jsx)(xe.Z,{style:{display:"none"}}):(0,t.jsx)(xe.Z,{style:{color:"rgba(0,0,0,.45)"},onClick:function(){j(null)}})})]})}),(0,t.jsx)(lt.Z,{columns:At,dataSource:D,pagination:{pageSize:10,showQuickJumper:!0}}),P==!0?(0,t.jsx)(lt.Z,{columns:Re,dataSource:[{key:null,granularity2:null,auth2:null}],pagination:{hideOnSinglePage:!0}}):null]}):null},dt=Ie,Ke=e(15196),Ye=e(31199),Mt=function(a){var r=(0,c.YB)(),R=a.addModalVisible,$=a.setAddModalVisible,D=a.initItem,x=a.searchContent,W=w.getMillisecondFromTimeunit,ce=He.Z.useForm(),fe=(0,m.Z)(ce,1),K=fe[0];return R?(0,t.jsxs)(Fe.Z,{form:K,visible:R,title:r.formatMessage({id:"createStorageGroup.storageGroup.create"}),modalProps:{onCancel:function(){return $(!1)},destroyOnClose:!0,bodyStyle:R?{}:{padding:"72px 0"}},onFinish:function(){var _=(0,C.Z)(p().mark(function P(b){var O,Y,Z;return p().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,K.validateFields();case 3:return O=K.getFieldValue("ttl"),O!=null&&(Y=K.getFieldValue("timeunit"),O=W(O,Y)),M.next=7,(0,L.it)({name:"root."+b.name,ttl:O});case 7:Z=M.sent,Z.code=="0"?(D(x),E.default.success({message:"Add Storage Group root."+b.name+" Success"}),$(!1)):E.default.error({message:Z.message}),M.next=13;break;case 11:M.prev=11,M.t0=M.catch(0);case 13:case"end":return M.stop()}},P,null,[[0,11]])}));return function(P){return _.apply(this,arguments)}}(),children:[(0,t.jsx)(k.Z,{name:"name",label:r.formatMessage({id:"createStorageGroup.storageGroup.name"}),rules:[{required:!0,message:"Between 1 to 255 character",max:255,type:"string"},{pattern:/^(?!\.)[a-zA-Z0-9.\u4e00-\u9fa5_]+$/,message:r.formatMessage({id:"createStorageGroup.entity.rule"})}],fieldProps:{addonBefore:"root.",style:{}}}),(0,t.jsxs)(Ke.ZP.Group,{size:8,children:[(0,t.jsx)(Ye.Z,{name:"ttl",label:r.formatMessage({id:"createStorageGroup.ttl.text"}),rules:[{min:0,max:925879189194932,type:"number"}],fieldProps:{style:{}}}),(0,t.jsx)(je.Z,{label:r.formatMessage({id:"createStorageGroup.ttl.timeUnit"}),name:"timeunit",rules:[{validator:function(P,b,O){if(K.getFieldValue("ttl")==null&&b!=null||K.getFieldValue("ttl")!=null&&b==null){O(r.formatMessage({id:"createStorageGroup.ttl.rule"}));return}O()}}],options:[{label:r.formatMessage({id:"createStorageGroup.ttl.second"}),value:"s"},{label:r.formatMessage({id:"createStorageGroup.ttl.minute"}),value:"m"},{label:r.formatMessage({id:"createStorageGroup.ttl.hour"}),value:"h"},{label:r.formatMessage({id:"createStorageGroup.ttl.day"}),value:"d"},{label:r.formatMessage({id:"createStorageGroup.ttl.year"}),value:"y"}],fieldProps:{style:{}}})]})]}):null},q=Mt,de=function(a){var r=(0,c.YB)(),R=w.getStringFromMillisecond,$=w.getMillisecondFromTimeunit,D=a.editModalVisible,x=a.setEditModalVisible,W=a.editItem,ce=a.initItem,fe=a.searchContent,K=He.Z.useForm(),_=(0,m.Z)(K,1),P=_[0];return D?(0,t.jsxs)(Fe.Z,{form:P,visible:D,title:r.formatMessage({id:"createStorageGroup.ttl.edit"}),modalProps:{onCancel:function(){return x(!1)},destroyOnClose:!0,bodyStyle:D?{}:{padding:"72px 0"}},onFinish:function(){var b=(0,C.Z)(p().mark(function O(Y){var Z,B,M;return p().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,P.validateFields();case 3:return Z=P.getFieldValue("ttl"),Z!=null&&(B=P.getFieldValue("timeunit"),Z=$(Z,B)),j.next=7,(0,L.CV)({name:W.value,ttl:Z});case 7:M=j.sent,M.code=="0"?(ce(fe),E.default.success({message:"Edit Storage Group "+W.value+" Success"}),x(!1)):E.default.error({message:M.message}),j.next=13;break;case 11:j.prev=11,j.t0=j.catch(0);case 13:case"end":return j.stop()}},O,null,[[0,11]])}));return function(O){return b.apply(this,arguments)}}(),children:[(0,t.jsx)(k.Z,{name:"name",label:r.formatMessage({id:"createStorageGroup.storageGroup.name"}),fieldProps:{value:W.value,disabled:"disabled"}}),(0,t.jsx)(k.Z,{label:r.formatMessage({id:"createStorageGroup.ttl.current"}),fieldProps:{defaultValue:R(W.ttl),disabled:"disabled",placeholder:r.formatMessage({id:"createStorageGroup.ttl.unlimited"})}}),(0,t.jsxs)(Ke.ZP.Group,{size:8,children:[(0,t.jsx)(Ye.Z,{name:"ttl",label:r.formatMessage({id:"createStorageGroup.ttl.new"})+" "+r.formatMessage({id:"createStorageGroup.ttl.new.description"}),rules:[{min:1,max:925879189194932,type:"number"}],fieldProps:{}}),(0,t.jsx)(je.Z,{label:r.formatMessage({id:"createStorageGroup.ttl.timeUnit"}),name:"timeunit",rules:[{validator:function(O,Y,Z){if(P.getFieldValue("ttl")==null&&Y!=null||P.getFieldValue("ttl")!=null&&Y==null){Z(r.formatMessage({id:"createStorageGroup.ttl.rule"}));return}Z()}}],options:[{label:r.formatMessage({id:"createStorageGroup.ttl.second"}),value:"s"},{label:r.formatMessage({id:"createStorageGroup.ttl.minute"}),value:"m"},{label:r.formatMessage({id:"createStorageGroup.ttl.hour"}),value:"h"},{label:r.formatMessage({id:"createStorageGroup.ttl.day"}),value:"d"},{label:r.formatMessage({id:"createStorageGroup.ttl.year"}),value:"y"}],fieldProps:{}})]})]}):null},wt=de,ta=at.ZP.Button,kt=H.Z.Search,bt=function(){var a=(0,c.YB)(),r=(0,v.useState)(!1),R=(0,m.Z)(r,2),$=R[0],D=R[1],x=(0,v.useState)(!1),W=(0,m.Z)(x,2),ce=W[0],fe=W[1],K=(0,v.useState)(!1),_=(0,m.Z)(K,2),P=_[0],b=_[1],O=(0,v.useState)(!1),Y=(0,m.Z)(O,2),Z=Y[0],B=Y[1],M=(0,v.useState)(void 0),me=(0,m.Z)(M,2),j=me[0],se=me[1],Vt=(0,v.useState)(void 0),Ct=(0,m.Z)(Vt,2),xt=Ct[0],Zt=Ct[1],$t=(0,v.useState)(void 0),ct=(0,m.Z)($t,2),Pe=ct[0],ge=ct[1],jt=(0,c.tT)("@@initialState"),Q=jt.initialState,Oe=jt.setInitialState,Bt=(0,v.useState)(void 0),Qe=(0,m.Z)(Bt,2),ft=Qe[0],Ft=Qe[1],Nt=(0,v.useState)(void 0),Ee=(0,m.Z)(Nt,2),It=Ee[0],Pt=Ee[1],zt=(0,v.useState)({}),Ge=(0,m.Z)(zt,2),Ot=Ge[0],Te=Ge[1],Ut=(0,v.useState)(void 0),ve=(0,m.Z)(Ut,2),Et=ve[0],mt=ve[1],Ht=(0,v.useState)(!1),he=(0,m.Z)(Ht,2),Gt=he[0],Xe=he[1],Wt=(0,v.useState)(void 0),le=(0,m.Z)(Wt,2),ee=le[0],Ae=le[1],Kt=(0,v.useState)(void 0),Je=(0,m.Z)(Kt,2),Le=Je[0],we=Je[1],gt=w.getStringFromMillisecond,ke=(0,c.QT)((0,C.Z)(p().mark(function g(){return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:Re();case 1:case"end":return l.stop()}},g)}))),vt=ke.data,Yt=ke.loading,_t=ke.mutate,Qt=function(s){var l=s.data.timeseriesCount;return(0,t.jsx)("div",{className:ne().listContent,children:(0,t.jsx)("div",{className:ne().listContentItem2,children:(0,t.jsxs)("p",{children:[a.formatMessage({id:"createStorageGroup.timeseries.count"})," ",l]})})})},Tt=(vt==null?void 0:vt.length)||1,At={showQuickJumper:!0,pageSize:10,current:Q.manageStorage_self_current===void 0?1:Q.manageStorage_self_current,total:Q.manageStorage_self_totalCount===void 0?Tt:Q.manageStorage_self_totalCount,onChange:function(s,l){Oe((0,A.Z)((0,A.Z)({},Q),{},{manageStorage_self_current:s}))}},Re=function(){var g=(0,C.Z)(p().mark(function s(l){var o;return p().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,L.rk)();case 2:o=f.sent,o.code=="0"?(l!=null&&l!=""&&(o.data=o.data.filter(function(z){return z.value.match(l)})),Oe((0,A.Z)((0,A.Z)({},Q),{},{manageStorage_self:o.data,manageStorage_self_totalCount:o.data.length,manageStorage_self_current:1}))):E.default.error({message:o.message});case 4:case"end":return f.stop()}},s)}));return function(l){return g.apply(this,arguments)}}(),h=function(){var g=(0,C.Z)(p().mark(function s(l){var o;return p().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,L.rk)();case 2:o=f.sent,o.code=="0"?(l!=null&&l!=""&&(o.data=o.data.filter(function(z){return z.value.match(l)})),Oe((0,A.Z)((0,A.Z)({},Q),{},{manageStorage_self:o.data,manageStorage_self_totalCount:o.data.length,manageStorage_self_current:1}))):E.default.error({message:o.message});case 4:case"end":return f.stop()}},s)}));return function(l){return g.apply(this,arguments)}}(),u=function(){var g=(0,C.Z)(p().mark(function s(l,o){var F,f;return p().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return l.preventDefault(),we(null),T.next=4,(0,L.t5)({path:o.value});case 4:return F=T.sent,T.next=7,(0,L.N8)();case 7:f=T.sent,F.code=="0"&&f.code=="0"?(Zt(f.data),se(F.data),ge(o.value),B(!0)):E.default.error({message:F.message});case 9:case"end":return T.stop()}},s)}));return function(l,o){return g.apply(this,arguments)}}(),G=function(){var g=(0,C.Z)(p().mark(function s(l,o){var F,f;return p().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,L.t5)({path:l});case 2:F=T.sent,f=F.data,o!=null&&o!=""&&(f=f.filter(function(ea){return ea.timeseries.match(o)})),se(f);case 6:case"end":return T.stop()}},s)}));return function(l,o){return g.apply(this,arguments)}}(),ie=function(s){s.preventDefault(),fe(!0)},X=function(s,l,o){l[s.key]==null||l[s.key]==!1?(l[s.key]=!0,o((0,A.Z)({},l))):(l[s.key]=!1,o(l),o((0,A.Z)({},l)))},qe=function(){var g=(0,C.Z)(p().mark(function s(l){var o;return p().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,L.Zm)({name:l.value});case 2:o=f.sent,o.code=="0"?(Re(ee),E.default.success({message:"Delete Storage Group "+l.value+" Success"})):E.default.error({message:o.message});case 4:case"end":return f.stop()}},s)}));return function(l){return g.apply(this,arguments)}}(),ht=(0,t.jsxs)(U.Z.Group,{children:[(0,t.jsxs)(U.Z,{value:"all",onClick:function(){Ae(null),h()},children:[(0,t.jsx)(nt.Z,{}),a.formatMessage({id:"pages.refresh.text"})]}),(0,t.jsx)(kt,{className:ne().extraContentSearch,placeholder:a.formatMessage({id:"pages.refresh.placeholder"}),onSearch:function(s){h(s)},onChange:function(s){Ae(s.target.value)},value:ee,suffix:ee==null||ee==""?(0,t.jsx)(xe.Z,{style:{display:"none"}}):(0,t.jsx)(xe.Z,{style:{color:"rgba(0,0,0,.45)"},onClick:function(){Ae(null)}})})]}),_e=function(s){var l=s.item;return(0,t.jsx)(Se.Z,{trigger:["click"],overlay:(0,t.jsxs)(re.Z,{children:[(0,t.jsx)(re.Z.Item,{onClick:function(){mt(l),b(!0)},children:a.formatMessage({id:"createStorageGroup.ttl.edit"})},"edit"),(0,t.jsx)(et.Z,{placement:"left",overlayStyle:{paddingRight:20},title:l.value+" -- "+a.formatMessage({id:"pages.delete.confirm"}),onConfirm:function(F){qe(l)},children:(0,t.jsx)(re.Z.Item,{children:a.formatMessage({id:"pages.delete.text"})},"delete")})]}),children:(0,t.jsxs)("a",{children:[a.formatMessage({id:"pages.more.text"})," ",(0,t.jsx)(n.Z,{})]})})},Xt=function(){ft==="success"&&h(ee),D(!1),B(!1),se({}),ge(null),Te({}),Xe(!1)},N=function(){var g=(0,C.Z)(p().mark(function s(l){var o;return p().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,L.mp)({path:l.timeseries});case 2:o=f.sent,o.code=="0"?Jt():E.default.error({message:o.message});case 4:case"end":return f.stop()}},s)}));return function(l){return g.apply(this,arguments)}}(),Jt=function(){var g=(0,C.Z)(p().mark(function s(){var l,o,F;return p().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,L.t5)({path:Pe});case 2:return l=z.sent,z.next=5,(0,L.N8)();case 5:o=z.sent,F=l.data,Le!=null&&Le!=""&&(F=F.filter(function(T){return T.granularity.match(Le)})),se(F),ge(Pe),Te({});case 11:case"end":return z.stop()}},s)}));return function(){return g.apply(this,arguments)}}();return(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ZP,{title:Q.activeConnectionDesc,children:(0,t.jsx)("div",{className:ne().standardList,children:(0,t.jsx)(oe.Z,{className:ne().listCard,bordered:!1,title:null,style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:ht,children:(0,t.jsx)(ae.ZP,{size:"large",rowKey:"id",loading:Yt,pagination:At,dataSource:Q.manageStorage_self,renderItem:function(s){return(0,t.jsxs)(ae.ZP.Item,{actions:[(0,t.jsx)("a",{onClick:function(o){u(o,s)},children:a.formatMessage({id:"createStorageGroup.timeseries.detail"})},"edit"),(0,t.jsx)(_e,{item:s},"more")],children:[(0,t.jsx)(ae.ZP.Item.Meta,{avatar:(0,t.jsx)(pe.C,{style:{backgroundColor:"#FC4C2F"},icon:(0,t.jsx)(d.Z,{}),shape:"square",size:"large"}),title:s.value,description:s.ttl==null?"":a.formatMessage({id:"createStorageGroup.ttl.text"})+" "+gt(s.ttl)}),(0,t.jsx)(Qt,{data:s})]})}})})})}),(0,t.jsxs)(U.Z,{type:"dashed",onClick:function(s){ie(s,{})},style:{width:"100%",marginBottom:8},children:[(0,t.jsx)(Lt,{}),a.formatMessage({id:"createStorageGroup.storageGroup.create"})]}),(0,t.jsx)(dt,{done:$,doneResultStatus:ft,doneResultTitle:It,visible:Z,current:j,setCurrent:se,currentSchema:xt,currentValue:Pe,onDone:Xt,onDeleteItem:N,refresh:Jt,editable:Ot,setEditable:Te,createable:Gt,setCreateable:Xe,changeState:X,searchContent:Le,setSearchContent:we,searchTimeseries:G}),(0,t.jsx)(q,{addModalVisible:ce,setAddModalVisible:fe,initItem:Re,searchContent:ee}),(0,t.jsx)(wt,{editModalVisible:P,setEditModalVisible:b,editItem:Et,initItem:Re,searchContent:ee})]})},qt=bt}}]);
